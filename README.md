# Telegram Reminder Bot
### Бот для созданий напоминаний и встреч
Версия 1.0
Авторы:
- Даниил [JazzMutant](https://t.me/JazzMutant) Толстоухов
- Артемий [Arteeck](https://vk.com/arteeck24) Гордон
- Софья [HebiSan](https://vk.com/hebi_san) Горбунова

## Описание
Бот позволяет создавать напоминания, которыми можно делиться с другими пользователями. 
Также есть возможность общаться в анонимной чат-рулетке.

## Возможности
- **Базовые функции**
    `/help` - Показать краткую справку по командам
    `/date` - Показать текущую дату
    `/authors` - Показать авторов
    
- **Напоминания**
    `/new` - Создать новое напоминание. Есть возможность установить напоминание в любое время или использовать один из предложенных шаблонов.
    Событые может быть периодическим
    `/all` - Показать список всех напоминаний пользователя
    `/remove` - Удалить напоминание из списка
    
- **Встречи**
    `/meeting` - Создать новое напоминание, которым можно будет поделиться с другими пользователями. 
    После создания будет сгенерирован уникальный идентификатор
    `/join` - Присоединиться к событию по его уникальному идентификатору. Напоминание будет автоматически добавлено в ваш список напоминаний
    
- **Чат-рулетка**
    `/chat` - Войти в режим чат-рулетки. При создании встречи в этом режиме вашему собеседнику автоматически поступит предложение присоединиться
    `/next` - Сменить текущего собеседника
    `/leave` - Выйти из режима чат-рулетки
    
- **События (Alpha)**
    Возможность создавать события, в которых могут принять участие все желающие пользователи.
    Например игра "Тайный Санта", где пользователи могут обменяться поздравлениями со случайными людьми.
    
    `/event` - Посмотреть информацию о текущем или предстоящем событии
    `/wish` - Оставить свое пожелание
    
## Параметры приложения
Приложение может работать в двух режимах: консольный и режим телеграм-бота. 
Хранение пользовательских напоминаний возможно на диске, либо в базе данных. 
Все настройки, в том числе локализацию можно найти в файле `recources/BotResorces.json`
Настройки логирования находятся в `resources/logging.properties`

## Состав
Приложение и парсер настроек: `bot`
Класс пользователя и его возможные состояния: `user`
Пакет, отвечающий за работу с напоминаниями: `reminder`
Пакет для работы с сериализацией и десериализацией: `serializer`
Пакет ввода-вывода: `inputOutput`
Чат-рулетка: `chatRoulette`
Пакет для работы с событиями + Тайный Санта: `event`

## Стадии разработки
- [x] Базовые команды
- [x] Многопользовательность, перисистентное хранилище заметок, интеграция Telegram
- [x] Встречи
- [x] Чат-рулетка
- [x] События

<details>
<summary>Выпонено/пропущено</summary>
  - [x] Об авторах <br>
  - [x] help <br>
  - [x] echo <br>
  - [x] Команды для создания заметки, вывод напоминания в указанное время <br>  
  - [x] Отделить ввод/вывод <br>
  - [x] <b>Перисистентное хранилище</b> <br>  
  - [x] Многопользовательность <br>
  - [x] Список напоминаний <br>
  - [x] Тесты <br>
  - [x] Удаление заметок <br> 
  - [x] <b>Telegram**</b> <br>
  - [x] Проблема многопоточности <br>
  - [x] Встречи <br>
  - [x] Проблема вывода большого числа заметок в нужное время <br>
  - [x] Уменьшить дельту между датой заметки и текущим временем <br>
  - [x] <b>Периодичные напоминания</b><br>
  - [x] Настройки и внутренние тексты вынести в .ini или .json<br>
  - [x] Логи<br>
  - [x] <b>Чат-рулетка</b><br> 
        Пользователи могут анонимно общаться через бота со случайным человеком.<br> 
        Собеседника можно сменить в любой момент.<br> 
        Собеседники могут создать общую встречу по общему согласию.<br>
    - [x] Новое состояние -- общение<br>
    - [x] Придумать как создавать встречи<br>
  - [x] <b>Heroku</b><br>
  - [x] String.format<br>
  - [x] uuid<br>
  - [x] Тип сериализатора в конфиге<br>
  - [x] Правильное время на Хероку<br>
  - [x] Отделить парсинг команд от их исполнения<br>
  - [x] <b>Json -> data base</b><br>
  - [x] Класс пользователя<br>
  - [x] Не переключаться на одного и того же юзера в рулетке<br>
  - [x] Вынести установку периода в отельный диалог<br>
  - [x] /stop<br>
  - [x] Переместить заметки в /Resources<br>
  - [x] <b>Тайный санта</b><br>
        Пользователи собираются в группу, потом в определенное время каждому пользователю<br> 
        назначается собеседник, которому он должен написать поздравление (Или что-то не <br>
        текстовое -- надо подумать). Если человек не отправлет поздравление, то ему приходит<br> 
        напоминание. Если не отправить поздравление до дедлайна, то пользователь теряет <br>
        анонимность и всем остальным оправляется гневное сообщение (напр. Толик -- бубун)<br>
  - [x] Пофиксить проблему с неправильным отображением месяцев следующего года<br>
  - [x] Сделать так, чтобы кнопка возвращала конкретное значение, а не номер кнопки<br>
  - [x] Пофиксить проблему с потерей коннекта к базе данных<br>
  - [x] synchronized -> потокобезопасные структуры. Сохранить все сортировки и компараторы<br>
  - [x] Красивый вид дней месяца и мясяцев года.<br>
  - [x] Убрать двустороннюю связь между классами<br>
  - [ ] В рулетке, при создании встречи, токен видят все<br>
  - [ ] Заменить айди чата на никнейм или что-то еще в рулетке.<br> 
  - [ ] Добавить возможность делать никнемы<br>
  - [ ] Исправление некорректной даты начинается в тот же шаг, когда дата становится неправильной<br>
  - [ ] Пофиксить тесты<br>
  - [ ] Русификация<br>
  - [ ] Help в телеге <br>
  - [ ] DDoS заметки :D<br>
  - [ ] /start<br>
  - [ ] Убрать варнинги при билде<br>
  - [ ] Добавить описание<br>
  - [ ] Спрашивать у пользователя часовой пояс<br>
  - [ ] В списке всех заметок выводить токен у встреч<br>
  - [ ] Заменить switch на словарь комманд<br>
  - [ ] Добавить описание тайного Санты<br>
  - [ ] Добавить возможность писать время через точку<br>
  - [ ] Починить счетчик онлайн пользователей<br>
  - [ ] Динамически менять время обновления<br>
  - [ ] Связь заметок между собой. При удалении корневой, удаляются все<br>
</details>